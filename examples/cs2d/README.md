# CS2D - 2D Counter Strike

一個使用 Lively 框架開發的 2D 版 Counter Strike 多人對戰遊戲。

## 功能特色

- 即時多人對戰
- 恐怖分子 vs 反恐小組團隊模式
- 武器購買系統
- 回合制遊戲機制
- 經濟系統
- 即時聊天功能

## 快速開始

### 安裝依賴

```bash
cd examples/cs2d
bundle install
```

### 啟動遊戲伺服器

```bash
bundle exec lively application.rb
```

然後在瀏覽器開啟 http://localhost:9292

## 遊戲控制 (Mac 觸控板優化)

### 移動與戰鬥
- **WASD** - 移動 (按住 Shift 加速跑)
- **方向鍵/IJKL** - 控制瞄準方向
  - 左右鍵/JL - 旋轉瞄準
  - 上下鍵/IK - 調整瞄準距離
- **空白鍵** - 射擊 (或單指點擊)
- **R** - 換彈
- **Q** - 快速 180° 轉身
- **V** - 切換自動瞄準輔助

### 觸控板手勢
- **雙指橫向滑動** - 旋轉瞄準角度
- **雙指縱向滑動** - 調整瞄準距離
- **雙指點擊** - 射擊（右鍵）
- **單指點擊** - 射擊

### 介面控制
- **B** - 開啟購買選單
- **1-5** - 快速購買武器
  - 1: AK-47
  - 2: M4A1
  - 3: AWP
  - 4: Desert Eagle
  - 5: 護甲
- **Tab** - 查看計分板
- **T** - 開啟聊天

## 遊戲規則

### 回合制
- 每回合 2 分鐘
- 消滅對方隊伍獲勝
- 先贏得 16 回合的隊伍獲得最終勝利

### 經濟系統
- 起始金錢：$800
- 擊殺獎勵：$300
- 回合勝利：$3250
- 回合失敗：$1400

### 武器價格
- **手槍**
  - Glock-18：預設 (T)
  - USP-S：預設 (CT)
  - Desert Eagle：$700

- **步槍**
  - AK-47：$2700
  - M4A1：$3100
  - AWP：$4750

- **衝鋒槍**
  - MP5：$1500
  - P90：$2350

- **裝備**
  - 防彈衣：$650
  - 頭盔+防彈衣：$1000

## 開發架構

### 後端 (Ruby/Lively)
- `application.rb` - 主應用程式入口
- `game/game_room.rb` - 遊戲房間邏輯
- `game/player.rb` - 玩家類別
- `game/bullet.rb` - 子彈物理
- `game/game_state.rb` - 遊戲狀態管理

### 前端 (JavaScript)
- Canvas 2D 渲染
- WebSocket 即時通訊
- 客戶端預測與插值

## 待實作功能

- [ ] 炸彈模式
- [ ] 人質救援模式
- [ ] 地圖系統
- [ ] 手榴彈系統
- [ ] 語音通訊
- [ ] 戰績統計
- [ ] 排行榜
- [ ] 自訂房間

## 效能優化

- 使用物件池管理子彈
- 視野裁剪優化渲染
- 狀態壓縮減少網路傳輸
- 客戶端預測減少延遲感

## 貢獻

歡迎提交 Issue 和 Pull Request！

## 授權

MIT License